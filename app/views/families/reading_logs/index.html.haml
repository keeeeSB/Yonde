%h3.text-center.mb-4 #{@family.name}å®¶ã®èª­ã¿èã‹ã›è¨˜éŒ²

.row.justify-content-center
  .col-md-10
    - if @reading_logs.exists?
      - @reading_logs.preload(:user, :children).default_order.each do |log|
        .card.mb-3.shadow-sm.border-0.rounded-3
          .row.g-0.align-items-center
            .col-md-4.text-center.p-3
              = image_tag log.book.image_url, class: 'img-fluid rounded image--log'

            .col-md-8
              .card-body.py-3
                %h5.card-title.fw-semibold.mb-2= log.book.title
                %p.mb-1.small
                  èª­ã‚“ã æ—¥ï¼š
                  %strong= l(log.read_on, format: :short)
                %p.mb-1.small
                  èª­ã‚“ã äººï¼š
                  %strong= log.user.name
                %p.mb-1.small
                  èª­ã¿èã‹ã›ãŸå­ï¼š
                  - log.children.each do |child|
                    %span.badge.bg-primary= child.name
                .mb-1
                  %span.badge.bg-light.text-dark.border.fs-6.py-2.px-3
                    = I18n.t("activerecord.enums.reading_log.rating.#{log.rating}")
                - if log.memo.present?
                  %p.mb-1.small
                    ãƒ¡ãƒ¢ï¼š
                    = log.memo
                .d-flex.justify-content-end.gap-2
                  - if log.likes.exists?(user: current_user)
                    = button_to 'ã„ã„ã­ğŸ‘', family_library_book_reading_log_like_path(log.book, log), method: :delete, class: 'btn btn-primary btn-sm'
                  - else
                    = button_to 'ã„ã„ã­ğŸ‘', family_library_book_reading_log_like_path(log.book, log), method: :post, class: 'btn btn-outline-primary btn-sm'

                  - if log.user == current_user
                    = link_to 'ç·¨é›†', edit_family_library_book_reading_log_path(log.book, log), class: 'btn btn-warning btn-sm'
                    = button_to 'å‰Šé™¤',
                                family_library_book_reading_log_path(log.book, log),
                                method: :delete,
                                data: { turbo_confirm: 'æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ' },
                                class: 'btn btn-danger btn-sm'

    - else
      .text-center.text-muted.py-5
        èª­ã¿èã‹ã›è¨˜éŒ²ãŒã‚ã‚Šã¾ã›ã‚“ã€‚
